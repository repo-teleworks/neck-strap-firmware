C51 COMPILER V7.20   P2P_DEMO_FWD_CALLBACKS                                                01/15/2014 19:23:23 PAGE 1   


C51 COMPILER V7.20, COMPILATION OF MODULE P2P_DEMO_FWD_CALLBACKS
OBJECT MODULE PLACED IN p2p_demo_fwd_callbacks.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\c51.exe p2p_demo_fwd_callbacks.c DB OE BR DF(SI1000MB_SI1000,FREQUENCY_BAND_434,TRA
                    -NSCEIVER_OPERATION,FOUR_CHANNEL_IS_USED,EXTENDED_PACKET_FORMAT,PACKET_FORWARDING_SUPPORTED,TRACE_ENABLED) INCDIR(..\..\b
                    -sp;..\..\stack;c:\SiLabs\MCU_3\Inc)

line level    source

   1          /*!\file EZMacPro_Callbacks.c
   2           * \brief EZMacPRO callback functions.
   3           *
   4           * \n EZMacPRO version: 3.0.1r
   5           *
   6           * \n This software must be used in accordance with the End User License
   7           * \n Agreement.
   8           *
   9           * \b COPYRIGHT
  10           * \n Copyright 2012 Silicon Laboratories, Inc.
  11           * \n http://www.silabs.com
  12           */
  13          
  14          
  15                          /* ======================================= *
  16                           *              I N C L U D E              *
  17                           * ======================================= */
  18          
  19          #include "..\..\common.h"
  20          
  21          
  22                          /* ======================================= *
  23                           *     G L O B A L   V A R I A B L E S     *
  24                           * ======================================= */
  25          
  26          BIT fEZMacPRO_StateWakeUpEntered = 0;
  27          BIT fEZMacPRO_StateSleepEntered = 0;
  28          BIT fEZMacPRO_StateIdleEntered = 0;
  29          BIT fEZMacPRO_StateRxEntered = 0;
  30          BIT fEZMacPRO_StateTxEntered = 0;
  31          BIT fEZMacPRO_StateErrorEntered = 0;
  32          
  33          BIT fEZMacPRO_LFTimerExpired = 0;
  34          BIT fEZMacPRO_LowBattery = 0;
  35          BIT fEZMacPRO_SyncWordReceived = 0;
  36          BIT fEZMacPRO_CRCError = 0;
  37          BIT fEZMacPRO_PacketDiscarded = 0;
  38          BIT fEZMacPRO_PacketReceived = 0;
  39          BIT fEZMacPRO_PacketForwarding = 0;
  40          BIT fEZMacPRO_PacketSent = 0;
  41          BIT fEZMacPRO_LBTTimeout = 0;
  42          BIT fEZMacPRO_AckTimeout = 0;
  43          BIT fEZMacPRO_AckSending = 0;
  44          
  45          
  46                          /* ======================================= *
  47                           *   C A L L B A C K   F U N C T I O N S   *
  48                           * ======================================= */
  49          
  50          /*!
  51           * The callback function is called when the stack enters Wake-up state.
  52           */
  53          void EZMacPRO_StateWakeUpEntered(void)
C51 COMPILER V7.20   P2P_DEMO_FWD_CALLBACKS                                                01/15/2014 19:23:23 PAGE 2   

  54          {
  55   1          fEZMacPRO_StateWakeUpEntered = 1;
  56   1      }
  57          
  58          /*!
  59           * The callback function is called when the stack enters Sleep state.
  60           */
  61          void EZMacPRO_StateSleepEntered(void)
  62          {
  63   1          fEZMacPRO_StateSleepEntered = 1;
  64   1      }
  65          
  66          /*!
  67           * The callback function is called when the stack enters Idle state.
  68           */
  69          void EZMacPRO_StateIdleEntered(void)
  70          {
  71   1          fEZMacPRO_StateIdleEntered = 1;
  72   1      }
  73          
  74          /*!
  75           * The callback function is called when the stack enters Receive state.
  76           */
  77          void EZMacPRO_StateRxEntered(void)
  78          {
  79   1          fEZMacPRO_StateRxEntered = 1;
  80   1      }
  81          
  82          /*!
  83           * The callback function is called when the stack enters Transmit state.
  84           */
  85          void EZMacPRO_StateTxEntered(void)
  86          {
  87   1          fEZMacPRO_StateTxEntered = 1;
  88   1      }
  89          
  90          /*!
  91           * The callback function is called when the stack enters Error state.
  92           */
  93          void EZMacPRO_StateErrorEntered(void)
  94          {
  95   1          fEZMacPRO_StateErrorEntered = 1;
  96   1      }
  97          
  98          
  99          void EZMacPRO_LFTimerExpired(void)
 100          {
 101   1          fEZMacPRO_LFTimerExpired = 1;
 102   1      }
 103          
 104          
 105          void EZMacPRO_LowBattery(void)
 106          {
 107   1          fEZMacPRO_LowBattery = 1;
 108   1      }
 109          
 110          
 111          #ifndef TRANSMITTER_ONLY_OPERATION
 112          void EZMacPRO_SyncWordReceived(void)
 113          {
 114   1          fEZMacPRO_SyncWordReceived = 1;
 115   1      }
C51 COMPILER V7.20   P2P_DEMO_FWD_CALLBACKS                                                01/15/2014 19:23:23 PAGE 3   

 116          #endif //TRANSMITTER_ONLY_OPERATION not defined
 117          
 118          
 119          #ifndef TRANSMITTER_ONLY_OPERATION
 120          void EZMacPRO_PacketDiscarded(void)
 121          {
 122   1          fEZMacPRO_PacketDiscarded = 1;
 123   1      }
 124          #endif //TRANSMITTER_ONLY_OPERATION not defined
 125          
 126          
 127          #ifndef TRANSMITTER_ONLY_OPERATION
 128          void EZMacPRO_PacketReceived(U8 rssi)
 129          {
 130   1          U8 rssiVal;
 131   1      
 132   1          rssiVal = rssi; // touch rssi to eliminate warning
 133   1          fEZMacPRO_PacketReceived = 1;
 134   1      }
 135          #endif //TRANSMITTER_ONLY_OPERATION not defined
 136          
 137          
 138          #ifdef PACKET_FORWARDING_SUPPORTED
 139          void EZMacPRO_PacketForwarding(void)
 140          {
 141   1          fEZMacPRO_PacketForwarding = 1;
 142   1      }
 143          #endif //PACKET_FORWARDING_SUPPORTED
 144          
 145          
 146          #ifndef RECEIVER_ONLY_OPERATION
 147          void EZMacPRO_PacketSent(void)
 148          {
 149   1          fEZMacPRO_PacketSent = 1;
 150   1      }
 151          #endif //RECEIVER_ONLY_OPERATION not defined
 152          
 153          
 154          #ifdef TRANSCEIVER_OPERATION
 155          void EZMacPRO_LBTTimeout (void)
 156          {
 157   1          fEZMacPRO_LBTTimeout = 1;
 158   1      }
 159          #endif //TRANSCEIVER_OPERATION
 160          
 161          
 162          #ifdef EXTENDED_PACKET_FORMAT
 163          #ifdef TRANSCEIVER_OPERATION
 164          void EZMacPRO_AckTimeout (void)
 165          {
 166   1          fEZMacPRO_AckTimeout = 1;
 167   1      }
 168          #endif //TRANSCEIVER_OPERATION
 169          #endif //EXTENDED_PACKET_FORMAT
 170          
 171          
 172          void EZMacPRO_CRCError(void)
 173          {
 174   1          fEZMacPRO_CRCError = 1;
 175   1      }
 176          
 177          
C51 COMPILER V7.20   P2P_DEMO_FWD_CALLBACKS                                                01/15/2014 19:23:23 PAGE 4   

 178          #ifdef EXTENDED_PACKET_FORMAT
 179          #ifdef TRANSCEIVER_OPERATION
 180          void EZMacPRO_AckSending(void)
 181          {
 182   1          U8 BUFFER_MSPACE i;
 183   1      
 184   1          fEZMacPRO_AckSending = 1;
 185   1          //example: RSSI is sent back in Ack payload
 186   1          i = EZMacProRSSIvalue;
 187   1          EZMacPRO_Ack_Write(1,&i);
 188   1      }
 189          #endif //TRANSCEIVER_OPERATION
 190          #endif //EXTENDED_PACKET_FORMAT
 191          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     67    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       1
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =     17    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
